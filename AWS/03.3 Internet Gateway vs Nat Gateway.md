# **Internet Gateway (IGW) vs NAT Gateway in AWS**  

## **Overview**  
Both **Internet Gateway (IGW)** and **NAT Gateway** enable internet access for AWS resources, but they serve different purposes and operate at different levels.  

---

## **1. Internet Gateway (IGW)**  
- **Purpose**: Allows **public subnets** to communicate directly with the internet (both inbound and outbound).  
- **Key Features**:  
  - Provides **two-way internet access** (instances can be reached from the internet and can reach the internet).  
  - Required for assigning **public IPv4 addresses** to instances.  
  - Used in **public subnets** (route table directs `0.0.0.0/0` to IGW).  
  - **No bandwidth limitations** (scales automatically).  
  - **Highly available by default** (no need to deploy in multiple AZs).  

### **Use Cases**  
- Public-facing web servers (EC2, ALB).  
- Bastion hosts (for SSH/RDP access).  
- Instances needing direct internet access.  

### **Limitations**  
- Cannot be used for private subnets (only works with public IPs).  
- Does not provide SNAT (Source Network Address Translation).  

---

## **2. NAT Gateway**  
- **Purpose**: Allows **private subnets** to access the internet (outbound only) while blocking inbound internet traffic.  
- **Key Features**:  
  - Provides **one-way internet access** (only outbound).  
  - Uses **NAT (Network Address Translation)** to allow private instances to connect externally.  
  - Must be deployed in a **public subnet** (since it needs an IGW).  
  - **Supports IPv4 only** (NAT Gateway does not work with IPv6).  
  - **Highly available** (if deployed in multiple AZs).  
  - **Charged per hour + data processing fees**.  

### **Use Cases**  
- Private EC2 instances needing updates (e.g., `yum update`).  
- Databases (RDS) requiring external connections (e.g., fetching license data).  
- Lambda functions in a VPC needing internet access.  

### **Limitations**  
- Does not allow inbound connections from the internet.  
- Requires a public subnet (with IGW) to function.  
- More expensive than NAT instances (but more reliable).  

---

## **Key Differences**  
| Feature                | Internet Gateway (IGW)               | NAT Gateway                          |  
|------------------------|--------------------------------------|--------------------------------------|  
| **Purpose**            | Direct internet access (two-way)     | Outbound-only internet access        |  
| **Used in Subnet**     | Public subnet                       | Private subnet (but deployed in public subnet) |  
| **Public IP Required** | Yes (for instances)                  | No (private instances use NAT IP)    |  
| **Inbound Traffic**    | Allowed (if permitted by SGs/NACLs) | Blocked (only outbound allowed)      |  
| **Availability**       | Highly available by default          | Must deploy per AZ for HA            |  
| **Cost**               | Free                                 | Charged per hour + data processing   |  
| **IPv6 Support**       | Yes                                  | No                                   |  

---

## **When to Use Which?**  
- **Use IGW when:**  
  - Resources need **direct public access** (e.g., web servers).  
  - Instances require **public IPs**.  
- **Use NAT Gateway when:**  
  - Private instances need **outbound-only internet access** (e.g., updates, API calls).  
  - You want to **block inbound internet traffic** for security.  

---

## **Best Practices**  
1. **Avoid placing databases in public subnets** (use private subnets + NAT Gateway if internet access is needed).  
2. **Use NAT Gateway for high availability** (deploy one per AZ if needed).  
3. **Monitor NAT Gateway costs** (data processing fees can add up).  
4. **Use Security Groups & NACLs** to restrict traffic even with NAT Gateway.  

---

### **Summary**  
- **IGW** → For public subnets needing two-way internet access.  
- **NAT Gateway** → For private subnets needing outbound-only internet access.  
Both are essential for secure and scalable AWS networking.